{"version":3,"sources":["components/Login/Login.module.css","components/UI/Inputs/FormPart.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","context.js","components/UI/Card/Card.js","components/UI/Button/Button.js","components/UI/Inputs/FormPart.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","MainContext","React","createContext","isLoggedIn","onLogout","onLogin","email","password","MainContextProvider","props","useState","setIsLoggedIn","useEffect","localStorage","getItem","Provider","value","removeItem","setItem","children","Card","className","classes","card","Button","type","button","onClick","disabled","FormPart","forwardRef","ref","inputRef","useRef","activate","current","focus","useImperativeHandle","control","isValid","invalid","htmlFor","content","id","onChange","onBlur","enterMailReducer","state","action","payload","includes","enterPasswordReducer","trim","length","Login","formIsValid","setFormIsValid","useReducer","undefined","enterMail","dispatchenterMail","enterPassword","dispatchenterPassword","invalidMail","invalidPass","interval","setTimeout","clearTimeout","ctx","useContext","emailRef","passRef","login","onSubmit","event","preventDefault","target","actions","btn","Home","home","Navigation","nav","href","MainHeader","App","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c8095d7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3dHJk\",\"actions\":\"Login_actions__2vUDp\",\"control\":\"Login_control__2HzZE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"FormPart_control__3caeD\",\"invalid\":\"FormPart_invalid__304_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__QePoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__243Ze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__319Gc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__45_2g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__38LmF\"};","import React, { useState, useEffect } from \"react\";\r\n\r\nconst MainContext = React.createContext({\r\n  isLoggedIn: false,\r\n  onLogout: () => {},\r\n  onLogin: (email,password) => {},\r\n});\r\n\r\nexport default MainContext;\r\n\r\nexport const MainContextProvider = (props) => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const setedItemInLocalStorage = localStorage.getItem(\"enteredData\");\r\n    if (setedItemInLocalStorage === \"1\") {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  const logOutHandler = () => {\r\n    localStorage.removeItem(\"enteredData\");\r\n    setIsLoggedIn(false);\r\n  };\r\n\r\n  const logInHandler = () => {\r\n    localStorage.setItem(\"enteredData\", \"1\");\r\n    setIsLoggedIn(true);\r\n  };\r\n\r\n  return (\r\n    <MainContext.Provider\r\n      value={{ isLoggedIn, onLogout: logOutHandler, onLogin: logInHandler }}\r\n    >\r\n      {props.children}\r\n    </MainContext.Provider>\r\n  );\r\n};\r\n","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useRef, useImperativeHandle } from \"react\";\r\nimport classes from \"./FormPart.module.css\";\r\n\r\nconst FormPart = React.forwardRef((props, ref) => {\r\n  const inputRef = useRef();\r\n\r\n  const activate = () => {\r\n    inputRef.current.focus();\r\n  };\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return { focus: activate };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={`${classes.control} ${\r\n        props.isValid === false ? classes.invalid : \"\"\r\n      }`}\r\n    >\r\n      <label htmlFor={props.htmlFor}>{props.content}</label>\r\n      <input\r\n        ref={inputRef}\r\n        type={props.type}\r\n        id={props.id}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        onBlur={props.onBlur}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default FormPart;\r\n","import React, {\n  useState,\n  useReducer,\n  useEffect,\n  useContext,\n  useRef,\n} from \"react\";\nimport Card from \"../UI/Card/Card\";\nimport classes from \"./Login.module.css\";\nimport Button from \"../UI/Button/Button\";\nimport MainContext from \"../../context\";\nimport FormPart from \"../UI/Inputs/FormPart\";\n\nconst enterMailReducer = (state, action) => {\n  if (action.type === \"E_MAIL\") {\n    return {\n      value: action.payload,\n      invalid: action.payload.includes(\"@\"),\n    };\n  }\n  if (action.type === \"BLURED\") {\n    return {\n      value: state.value,\n      invalid: state.value.includes(\"@\"),\n    };\n  }\n\n  return { value: \"\", invalid: state.value.includes(\"@\") };\n};\n\nconst enterPasswordReducer = (state, action) => {\n  if (action.type === \"PASSWORD\") {\n    return {\n      value: action.payload,\n      invalid: action.payload.trim().length > 6,\n    };\n  }\n  if (action.type === \"BLURED_PAS\") {\n    return {\n      value: state.value,\n      invalid: state.value.trim().length > 6,\n    };\n  }\n\n  return { value: \"\", invalid: state.value.trim().length > 6 };\n};\n\nconst Login = () => {\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const [enterMail, dispatchenterMail] = useReducer(enterMailReducer, {\n    value: \"\",\n    invalid: undefined,\n  });\n\n  const [enterPassword, dispatchenterPassword] = useReducer(\n    enterPasswordReducer,\n    {\n      value: \"\",\n      invalid: undefined,\n    }\n  );\n  const { invalid: invalidMail } = enterMail;\n  const { invalid: invalidPass } = enterPassword;\n\n  useEffect(() => {\n    const interval = setTimeout(() => {\n      setFormIsValid(invalidMail && invalidPass);\n    }, 1000);\n    return () => {\n      clearTimeout(interval);\n    };\n  }, [invalidPass, invalidMail]);\n\n  const ctx = useContext(MainContext);\n  const emailChangeHandler = (event) => {\n    dispatchenterMail({ type: \"E_MAIL\", payload: event.target.value });\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchenterPassword({ type: \"PASSWORD\", payload: event.target.value });\n  };\n\n  const validateEmailHandler = () => {\n    dispatchenterMail({ type: \"BLURED\" });\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchenterPassword({ type: \"BLURED_PAS\" });\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (formIsValid) {\n      ctx.onLogin(enterMail.value, enterPassword.value);\n    } else if (!invalidMail) {\n      emailRef.current.focus();\n    } else {\n      passRef.current.focus();\n    }\n  };\n\n  const emailRef = useRef();\n  const passRef = useRef();\n\n  return (\n    <Card className={classes.login}>\n      <form onSubmit={submitHandler}>\n        <FormPart\n          ref={emailRef}\n          isValid={invalidMail}\n          htmlFor=\"Email\"\n          type=\"Email\"\n          id=\"Email\"\n          content=\"Email\"\n          value={enterMail.value}\n          onChange={emailChangeHandler}\n          onBlur={validateEmailHandler}\n        />\n        <FormPart\n          ref={passRef}\n          isValid={invalidPass}\n          content=\"Password\"\n          htmlFor=\"Password\"\n          type=\"Password\"\n          id=\"Password\"\n          value={enterPassword.value}\n          onChange={passwordChangeHandler}\n          onBlur={validatePasswordHandler}\n        />\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn} >\n            Login\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import React, { useContext } from \"react\";\nimport Button from \"../UI/Button/Button\";\nimport Card from \"../UI/Card/Card\";\nimport classes from \"./Home.module.css\";\nimport MainContext from \"../../context\";\n\nconst Home = () => {\n\n  const ctx = useContext(MainContext);\n  return (\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n      <Button onClick={ctx.onLogout}>Logout</Button>\n    </Card>\n  );\n};\n\nexport default Home;\n","import React, { useContext } from \"react\";\nimport MainContext from \"../../context\";\nimport classes from \"./Navigation.module.css\";\n\nconst Navigation = () => {\n  const ctx = useContext(MainContext);\n  return (\n    <nav className={classes.nav}>\n      <ul>\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Users</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Admin</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <button onClick={ctx.onLogout}>Logout</button>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = () => {\n  return (\n    <header className={classes[\"main-header\"]}>\n      <h1>A Typical Page</h1>\n      <Navigation/>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import React, { useContext } from \"react\";\nimport Login from \"./components/Login/Login\";\nimport Home from \"./components/Home/Home\";\nimport MainHeader from \"./components/MainHeader/MainHeader\";\nimport MainContext from \"./context\";\n\nfunction App() {\n  const ctx = useContext(MainContext);\n\n  return (\n    <React.Fragment>\n      <MainHeader />\n      <main>\n        {!ctx.isLoggedIn && <Login />}\n        {ctx.isLoggedIn && <Home />}\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { MainContextProvider } from \"./context\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <MainContextProvider>\n    <App />\n  </MainContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}